<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tetris</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Settings Button -->
    <button id="settingsBtn" class="settings-btn">‚öôÔ∏è</button>
    
    <!-- Effects Collection Button -->
    <button id="collectionBtn" class="collection-btn">üìã</button>
    
    <!-- Developer Mode Button -->
    <button id="devModeBtn" class="dev-mode-btn" style="display: none;">üß† DEV</button>
    
    <!-- Settings Menu -->
    <div id="settingsMenu" class="settings-menu">
        <div class="settings-content">
            <h2>‚öôÔ∏è Settings</h2>
            
            <div class="setting-group">
                <label for="volumeSlider">Volume:</label>
                <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="0.5">
                <span id="volumeValue">50%</span>
            </div>
            
            <div class="setting-group">
                <label>
                    <input type="checkbox" id="antiEpilepsyCheck">
                    Anti-Epilepsy Mode
                </label>
                <small>Disables flashing effects</small>
            </div>
            
            <div class="setting-group">
                <label for="lobotomyThreshold">Lines for Lobotomy:</label>
                <select id="lobotomyThreshold">
                    <option value="1">1 Line</option>
                    <option value="2">2 Lines</option>
                    <option value="3">3 Lines</option>
                    <option value="4" selected>4 Lines (Tetris)</option>
                    <option value="5">5 Lines</option>
                </select>
            </div>
            
            <div class="setting-group">
                <label>
                    <input type="checkbox" id="developerModeCheck">
                    Developer Mode
                </label>
                <small>Shows effect controls and instant lobotomy</small>
            </div>
            
            <div class="settings-buttons">
                <button id="resetSettings">Reset to Default</button>
                <button id="closeSettings">Close</button>
            </div>
        </div>
    </div>
    
    <!-- Effects Collection Menu -->
    <div id="collectionMenu" class="collection-menu">
        <div class="collection-content">
            <h2>üìã Effects Collection</h2>
            <div class="collection-stats">
                <div class="stat">
                    <span class="stat-label">Collected:</span>
                    <span id="collectedCount">0</span>/<span id="totalCount">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Completion:</span>
                    <span id="completionPercent">0%</span>
                </div>
            </div>
            
            <div class="rarity-filters">
                <button class="rarity-filter active" data-rarity="all">All</button>
                <button class="rarity-filter" data-rarity="common">Common</button>
                <button class="rarity-filter" data-rarity="uncommon">Uncommon</button>
                <button class="rarity-filter" data-rarity="rare">Rare</button>
                <button class="rarity-filter" data-rarity="legendary">Legendary</button>
            </div>
            
            <div id="collectionGrid" class="collection-grid">
                <!-- Effects will be populated here -->
            </div>
            
            <div class="collection-buttons">
                <button id="resetCollection">Reset Collection</button>
                <button id="closeCollection">Close</button>
            </div>
        </div>
    </div>
    
    <!-- Developer Panel -->
    <div id="developerPanel" class="developer-panel" style="display: none;">
        <div class="dev-content">
            <h3>üß† Developer Panel</h3>
            
            <div class="dev-section">
                <h4>Quick Actions</h4>
                <button id="instantLobotomy" class="instant-lobotomy-btn">üí• INSTANT LOBOTOMY</button>
                <button id="clearEffects">üßπ Clear All Effects</button>
                <button id="resetEffectsList">üìù Reset Effects List</button>
            </div>
            
            <div class="dev-section">
                <h4>Triggered Effects</h4>
                <div id="effectsList" class="effects-list">
                    <div class="no-effects">No effects triggered yet</div>
                </div>
            </div>
            
            <div class="dev-section">
                <h4>Manual Effect Trigger</h4>
                <select id="effectSelector">
                    <option value="">Select an effect...</option>
                </select>
                <button id="triggerEffect">Trigger Effect</button>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="game-panel">
            <div class="game-info">
                <div class="hold-piece">
                    <h3>Hold</h3>
                    <canvas id="holdPiece" width="100" height="100"></canvas>
                </div>
                <div class="info-box">
                    <div class="score">Score: <span id="score">0</span></div>
                    <div class="level">Level: <span id="level">1</span></div>
                    <div class="lines">Lines: <span id="lines">0</span></div>
                </div>
                <div class="next-piece">
                    <h3>Next</h3>
                    <canvas id="nextPiece" width="100" height="100"></canvas>
                </div>
            </div>
            <canvas id="tetris" width="240" height="400"></canvas>
            <div class="controls">
                <h3>Controls</h3>
                <ul>
                    <li>‚Üê ‚Üí : Move</li>
                    <li>‚Üë : Rotate</li>
                    <li>‚Üì : Soft Drop</li>
                    <li>Space : Hard Drop</li>
                    <li>C : Hold Piece</li>
                </ul>
            </div>
        </div>
    </div>
    <div id="tetrisOverlay" class="overlay">
        <img src="lobotomy.jpg" alt="Tetris!" />
    </div>
    <div id="gameOverMessage" class="game-over">
        <h2>Game Over!</h2>
        <p>Press Space to restart</p>
    </div>
    <audio id="clearSound" src="lobotomy.wav" preload="auto"></audio>
    <video id="turkeySandwich" src="turkey_sandwich.mp4" preload="auto" style="display: none;"></video>
    <video id="subwaySurfers" src="Subway_Surfers_Gameplay.mp4" preload="auto" style="display: none;"></video>
    <script src="effects-system.js"></script>
    <script src="game.js"></script>
</body>
</html>
